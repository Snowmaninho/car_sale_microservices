<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<style>
    .myPagination {
        display: inline-block;
    }

    .myPagination a {
        color: black;
        float: left;
        padding: 5px 5px;
        text-decoration: none;
    }

    .myPagination a.active {
        background-color: gray;
        color: white;
        border-radius: 2px;
    }
</style>

<head>
    <title>Sale offers</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
</head>

<body>
<!--<h1 th:inline="text">Hello, [[${#httpServletRequest.remoteUser}]]!</h1>-->

<!--<form th:action="@{/offers}" method="post" class="form-group">-->
<form th:action="@{/offers}" method="post" class="form-group">
    <div class="form-check-inline"><label> Car make: <input type="text" name="carMake"/> </label></div>
    <div class="form-check-inline"><label> Car model: <input type="text" name="carModel"/> </label></div><br>
    <div class="form-check-inline"><label> Car min year: <input type="text" name="carMinYear"/> </label></div>
    <div class="form-check-inline"><label> Car max year: <input type="text" name="carMaxYear"/> </label></div><br>
    <div class="form-check-inline"><label> Car min price: <input type="text" name="carMinPrice"/> </label></div>
    <div class="form-check-inline"><label> Car max price: <input type="text" name="carMaxPrice"/> </label></div><br>
    <div class="form-check-inline"><label> Car min HP: <input type="text" name="carMinHp"/> </label></div>
    <div class="form-check-inline"><label> Car max HP: <input type="text" name="carMaxHp"/> </label></div><br>
    <div><input type="submit" value="Search"/></div>
</form>

<div class="container mt-5">
    <h1>All offers</h1>
    <div th:each="element : ${offers}" class="alert alert-info mt-2">
        <h3 th:text="${element.getAnonsName()}"/>
        <p th:text="${element.getCar().getCarMake()} + ' ' + ${element.getCar().getCarModel() + ' ' + element.getCar().getCarYear() + ' y. ' + element.getCar().getCarPower() + ' hp. ' + element.getCar().getCarPrice() + ' rub.'}"/>
        <!--        <a th:href="'/offers/' + ${element.getId()}" class="btn btn-warning">Details</a>-->
    </div>
</div>
<div class="mx-auto" style="width: 200px;">
    <div th:if="${offers.getTotalPages() > 0}" class="myPagination"
         th:each="pageNumber : ${pageNumbers}">
        <a th:href="@{/offers(size=${offers.getSize()}, page=${pageNumber}, make=${make}, cModel=${cModel}, minYear=${minYear}, maxYear=${maxYear}, minPrice=${minPrice}, maxPrice=${maxPrice}, minHp=${minHp}, maxHp=${maxHp})}"
           th:text="${pageNumber}"
           th:class="${pageNumber==offers.getNumber() + 1} ? active"></a>
    </div>
</div>

<div>
    <p>
        <a th:href="@{/}">Home page</a>
    </p>
</div>
<!--<a class="me-3 py-2 text-dark text-decoration-none" href="/offers/add">Add offer</a>-->
<!--<form th:action="@{/logout}" method="post">-->
<!--    <input type="submit" value="Sign Out"/>-->
<!--</form>-->
</body>

</html>